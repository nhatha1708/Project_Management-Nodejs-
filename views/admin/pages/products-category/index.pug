extends ../../layout/default.pug


block main 

    h1 Product List
    .row 
        .col-6.text-end
            a(
                href=`${prefixAdmin}/products-category/create`
                class="btn btn-primary"
            ) Create Products

    table(
        class="product-table"
        checkbox-multi
    )
        thead
            tr
                th 
                    input(
                        type="checkbox"
                        name="check-all")
                th ID
                th Image
                th Name
                th Position
                th Status
                th Actions
        tbody
            each product, index in records
                tr  
                    td 
                        input(
                            type="checkbox"
                            name="id"
                            value=product._id
                        )
                    - const currentPage = Number(pagination.currentPage);
                    - const limitItem = Number(pagination.limitItem);
                    td #{index + 1 + (currentPage - 1) * limitItem}
                    td
                        img(src=product.thumbnail, alt=product.title, class="product-image")
                    td #{product.title}
                    td 
                        input(
                        class="form-control"
                        style="width: 150px;"
                        type="number"
                        value=product.position
                        min=1
                        name="position"
                        )
                    td
                        if (product.status == 'active')
                            a(
                                href="javascript:;"
                                data-status=product.status
                                data-id=product._id
                                button-change-status
                                class="status available"
                                ) Active
                        else
                            a(
                                href="javascript:;"
                                data-status=product.status 
                                data-id=product._id
                                button-change-status
                                class="status out-of-stock"
                                ) Inactive
                    td
                        a(
                            href=`${prefixAdmin}/products-category/edit/${product._id}`
                            class="btn btn-edit"
                        ) Edit

                            a(
                                href=`${prefixAdmin}/products-category/detail/${product._id}`
                                class="btn btn-secondary"
                        ) Detail

                        button(
                            class="btn btn-delete"
                            data-id=product._id
                            button-delete
                        ) Delete
